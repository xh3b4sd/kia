apiVersion: "networking.istio.io/v1beta1"
kind: "Gateway"
metadata:
  name: "{{ .Release.Name }}"
  labels:
    app.kubernetes.io/name: "{{ .Release.Name }}"
spec:
  selector:
    istio: "ingressgateway"
  servers:
    - port:
        name: "https"
        number: 443
        protocol: "HTTPS"
      hosts:
        - "{{ .Values.cluster.name }}.{{ .Values.cluster.domain }}"
      tls:
        mode: "SIMPLE"
        credentialName: "ingressgateway"
        minProtocolVersion: "TLSV1_2"
